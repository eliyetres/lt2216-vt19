<?xml version="1.0" encoding="UTF-8"?>
<grammar version="1.0" tag-format="semantics/1.0" root="ties">
  <!-- Object rule -->
  <rule id="object" scope="public">
    <one-of>
      <item> the light <tag> out = 'the light'; </tag>
      </item>
       <item> the lights <tag> out = 'the light'; </tag>
      </item>
      <item> heat <tag> out = 'the heating'; </tag>
      </item>
      <item> A.C. <tag> out = 'the air conditioning'; </tag>
      </item>
      <item> air conditioning <tag> out = 'the air conditioning'; </tag>
      </item>
      <item> window <tag> out = 'the window'; </tag>
      </item>
      <item> door <tag> out = 'the door'; </tag>
      </item>
    </one-of>
  </rule>
  <!-- Action rule -->
  <rule id="action" scope="public">
    <one-of>
      <item>turn on<tag>out="on";</tag></item>
      <item>turn off<tag>out="off";</tag></item>
      <item>open<tag>out="open";</tag></item>
      <item>close<tag>out="close";</tag></item>
    </one-of>
  </rule>
  <!-- Ties between object and actions rule -->
  <rule id="ties" scope="public">
    <one-of>
      <item>
        <ruleref uri="#action" />
        <ruleref uri="#object" />
        <tag>out.action=rules.action; out.object=rules.object</tag>
      </item>
    </one-of>
  </rule>
</grammar>